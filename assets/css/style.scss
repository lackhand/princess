---
---

@import "{{ site.theme }}";

@mixin floatBullet {
  &:before {
    position: relative;
    float: left;
    // Remove font weights
    font-style: normal;
    font-weight: normal;
    @content;
  }  
}

@mixin floatIcon {
  @include floatBullet {
    font-size: 250%;
    margin: -20px 0px 0px -27.5px;
    @content;
  }
}


@mixin callout($icon) {
  @extend table, td;
  p {
    margin: 0px;
  }
  @include floatIcon {
    content: "#{$icon}";
  }
}

// These are all free-text quoted sections.
.aside {   @include callout("âœ"); }
.note {    @include callout("ðŸ’¡"); }  // Hmmm...
.tip {     @include callout("ðŸ’¡"); }
.warning { @include callout("âš ï¸"); }
.example { @include callout("ðŸ“œ"); }


// A table with a first header column
.tablecol {
  td:first-of-type {
    @extend th;
  }
}

// A definition-list table (terms descend vertically).
.dtable {
  @extend table;
  display: grid;
  grid-template-columns: 12em auto;
  gap: 2px;  // this is table.border-spacing, but we have to explicitly copy it over.
  > dt {
    @extend th;
    text-align: right;
    grid-column: 1;
    // padding: 10px;
  }
  > dd {
    @extend td;
    text-align: left;
    grid-column: 2;
    dt {
      font-weight: normal;
      font-style: italic;
    }
    dd {
     font-style: normal;
    }
  }
}

.key {
  @extend .dtable;
  > dt {
    @include floatBullet {
      font-size: 150%;
      content: "ðŸ—ï¸";
    }
  }
  > dd {
    font-style: italic;
    dd {
      font-style: normal;
      &:before { content: "? "; }
      &:first-of-type:before { content: "ðŸŽ¯ "; }
      &:last-of-type:before { content: "ðŸ’” "; }
    }
  }
}

.secret {
  @extend .dtable;

  > dt {
    @include floatBullet {
      font-size: 150%;
      content: "ðŸ¤«";
    }
  }
  > dt.magic {
    &:before {
      content: "âœ¨";
    }  
  }
  > dd {
    font-style: italic;
    dd {
      font-style: normal;
      &:before { content: "ðŸ”§ "; }
    }
    dd.prereq {
      &:before { content: "ðŸ¥‡ "; }
    }
  }
}

.foe {
  @extend .dtable;

  > dt {
    @include floatBullet {
      font-size: 150%;
      content: "ðŸ‘¹";
    }
  }
  > dd {
    font-style: italic;
    // The definition-list for the stats
    dl {
      @extend .dtable;
      font-style: normal;
      > dt {
        @include floatBullet { content: "â–¶"; }

        &:nth-of-type(1) { @include floatBullet { content: "ðŸ’ª"; } }
        &:nth-of-type(2) { @include floatBullet { content: "ðŸ”Ž"; } }
      }
    }
  }
}

// It's just *so ugly* to include the ul margin when they nest.
ul * {
  margin: 0px;
}


